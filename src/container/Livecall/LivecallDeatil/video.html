<!DOCTYPE html>
<html lang="en">

<head lang="zh_cn">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="format-detection" content="telephone=no" />
  <meta name="referrer" content="always" />
  <meta name="language" content="zh_cn" />
  <meta name="description"
    content="VPGAME（www.vpgame.com）业务涵盖了DOTA2、守望先锋、英雄联盟、CSGO等多款电竞游戏，并融合了DOTA2饰品交易、CSGO饰品交易，饰品竞猜，电竞赛事，电竞资讯等多项功能，是一个多元化的电竞服务平台。" />
  <meta name="keywords"
    content="VPGAME,VPGAME电竞平台,DOTA2赛事平台,VP电竞,DOTA2饰品,CSGO饰品,DOTA2饰品交易,CSGO饰品交易,CDEC战队,CDEC大师赛,DOTA2赛事,CSGO赛事,饰品交易" />
    <style>
      * { margin: 0; padding: 0; }
    </style>
</head>
<body>
  <div className="ocxStyle">
      <div id="playerContainer" style="height: 275px;" />
  </div>
  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.34/browser-polyfill.js">
  </script>
  <script src="//47.106.164.38/plugins/video/plugins/jquery.min.js"></script>
  <!-- 视频js -->

  <script src="//47.106.164.38/plugins/video/plugins/json2.js"></script>
  <script src="//47.106.164.38/plugins/video/plugins/jquery.jqGrid.min.js"></script>
  <script src="//47.106.164.38/plugins/video/plugins/datepicker/WdatePicker.js"></script>
  <script src="//47.106.164.38/plugins/video/plugins/msgbox.js"></script>
  <script src="//47.106.164.38/plugins/video/plugins/nprogress.js"></script>
  <script src="//47.106.164.38/plugins/video/common/comscript.js"></script>
  <script src="//47.106.164.38/plugins/video/lang/zh_lang.js"></script>
  <script src="//47.106.164.38/plugins/video/common/utils.js"></script>
  <!--控件加载Begin-->
  <script src="//47.106.164.38/plugins/video/common/plugin.js"></script>
  <script src="//47.106.164.38/plugins/video/common/sdkviewer.js"></script>
  <!--控件加载End-->
  <!-- <script src="//47.106.164.38/plugins/video/common/index.js"></script> -->
  <script src="//47.106.164.38/plugins/video/common/video.js"></script>
  <script>
    $(function(){
      var url = window.parent.frames['unviewFrame'].location.href;
      if (url) {
        console.log("iframe url:"+url);
        var ip = getQueryVariable(url, "ip");
        var port = getQueryVariable(url, "port");
        var username = getQueryVariable(url, "username");
        var password = getQueryVariable(url, "password");
        console.log("ip:"+ip+";port:"+port+";username:"+username+";password:"+password);
        if (ip && port && username && password) {
          var videoView = new mainClass();
          var rst = videoView.fasterLogin(ip, port, username, password);
          if (rst.code !== 1) {
            console.log(rst.msg)
          }
        } else {
          console.log("从url获取参数错误");
        }
      } else {
        console.log("获取iframe url错误");
      }
    });

    function getQueryVariable(url, variable) {
      if (url) {
        var vars = url.split("&");
        for (var i=0;i<vars.length;i++) {
          var pair = vars[i].split("=");
          if(pair[0] == variable){
            return pair[1];
          }
        }
      }
      return(false);
    }
  </script>
</body>

</html>